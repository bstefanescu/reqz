1. detect types in prompt
2. @file directive - improve: support binary files
